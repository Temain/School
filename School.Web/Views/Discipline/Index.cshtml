@model IEnumerable<School.Web.Models.ViewModels.DisciplineViewModel>
@{
    ViewBag.Title = "Дисциплины";
}

<div class="span3">
    <div class="sidebar">
        <ul class="widget widget-menu unstyled">
            <li>
                <a href="@Url.Action("Index", "Home")">
                    <i class="menu-icon icon-circle-arrow-left"></i>К разделам
                </a>
            </li>
        </ul>

        <ul class="widget widget-menu unstyled">
            <li class="active">
                <a href="@Url.Action("Index", "Discipline")">
                    <i class="menu-icon icon-list"></i>Дисциплины
                </a>
            </li>
            <li>
                <a href="@Url.Action("Index", "Material")"><i class="menu-icon icon-book"></i>Учебные материалы</a>
            </li>
        </ul>
        <!--/.widget-nav-->

        <ul class="widget widget-menu unstyled">
            <li>
                <a href="@Url.Action("Create", "Discipline")">
                    <i class="menu-icon icon-plus"></i>Добавить дисциплину
                </a>
            </li>
        </ul>
        <!--/.widget-nav-->
    </div>
    <!--/.sidebar-->
</div>
<!--/.span3-->
<div class="span9">
    <div class="content">
        <div class="module">
            <div class="module-head">
                <h3>
                    Дисциплины
                </h3>
            </div>
            <div class="module-body table">
                <table cellpadding="0" cellspacing="0" border="0" class="datatable-1 table table-bordered table-striped	 display"
                       width="100%">
                    <thead>
                        <tr>
                            <th>
                                Наименование
                            </th>
                            <th>
                                Класс
                            </th>
                            <th>
                                Количество занятий
                            </th>
                            <th>
                                Учебные материалы
                            </th>
                            <th>
                                Действия
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        @{
                            var index = 0;
                            foreach (var discipline in Model)
                            {
                                <tr class="@(index % 2 == 0 ? "even" : "odd") gradeX">
                                    <td>
                                        @discipline.DisciplineName
                                    </td>
                                    <td>
                                        @discipline.ClassName
                                    </td>
                                    <td>
                                        @discipline.TeacherName
                                    </td>
                                    <td class="center">
                                        @(discipline.Materials != null ? string.Join(",", discipline.Materials.Select(m => m.MaterialName + " " + m.Authors)) : "")
                                    </td>
                                    <td>
                                        <a href="@Url.Action("Edit", new { id = discipline.DisciplineId })"><i class="icon-pencil" style="color: green;"></i></a>
                                        <a href="@Url.Action("Discipline", new { id = discipline.DisciplineId })"><i class="icon-trash" style="color: red;"></i></a>
                                    </td>
                                </tr>
                            }
                        }
                    </tbody>
                    @*<tfoot>
                            <tr>
                                <th>
                                    Rendering engine
                                </th>
                                <th>
                                    Browser
                                </th>
                                <th>
                                    Platform(s)
                                </th>
                                <th>
                                    Engine version
                                </th>
                                <th>
                                    CSS grade
                                </th>
                            </tr>
                        </tfoot>*@
                </table>
            </div>
        </div>
    </div>
    <!--/.content-->
</div>
<!--/.span9-->